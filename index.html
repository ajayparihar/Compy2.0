<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Compy</title>
  <link rel="stylesheet" href="css/compy.css" />
  <link rel="icon" href="favicon_io/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon_io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon_io/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="favicon_io/apple-touch-icon.png">
  <link rel="manifest" href="favicon_io/site.webmanifest">


</head>
<body>
  <header class="navbar">
    <div class="left">
      <button id="brand" class="brand" title="Refresh">Compy</button>
      <span id="profileDisplay" class="profile-display"></span>
    </div>
    <div class="center">
      <div class="search">
        <input id="searchInput" type="text" placeholder="Search (Ctrl+F or /)" />
        <button id="searchClear" class="icon-btn" title="Clear">✕</button>
      </div>
    </div>
    <div class="right">
      <button id="addBtn" class="primary-btn" title="Add">＋</button>
      <button id="filterBtn" class="icon-text-btn" title="Filter by tags">Filter <span id="filterBadge" class="badge" hidden>0</span></button>
      <select id="themeSelect" title="Theme">
        <optgroup label="Dark">
          <option value="dark-mystic-forest">Mystic Forest</option>
          <option value="dark-crimson-night">Crimson Night</option>
          <option value="dark-royal-elegance">Royal Elegance</option>
        </optgroup>
        <optgroup label="Light">
          <option value="light-sunrise">Sunrise</option>
          <option value="light-soft-glow">Soft Glow</option>
          <option value="light-floral-breeze">Floral Breeze</option>
        </optgroup>
      </select>
      <label class="file-btn">
        <input id="importFile" type="file" accept=".json,.csv" hidden />
        <span>Import</span>
      </label>
      <div class="menu">
        <button id="exportMenuBtn" class="icon-text-btn">Export ▾</button>
        <div id="exportMenu" class="menu-panel">
          <button data-export="json">Export JSON</button>
          <button data-export="csv">Export CSV</button>
          <button id="backupsBtn">Backups</button>
        </div>
      </div>
      <button id="profileEditBtn" class="icon-text-btn" title="Edit profile">Profile</button>
      <button id="aboutBtn" class="icon-text-btn">About</button>
    </div>
  </header>

  <main>
    <section id="cards" class="cards">
      <!-- Cards injected here; skeletons shown initially -->
    </section>
  </main>

  <!-- Add/Edit Modal -->
  <div id="itemModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="itemModalTitle">Add Item</h3>
        <button class="icon-btn" data-close-modal>✕</button>
      </div>
      <div class="modal-body">
        <div class="field">
          <label>CompyItem</label>
          <div class="input-wrap with-clear">
            <textarea id="itemText" rows="3" maxlength="500" required></textarea>
            <button class="clear-field" data-clear="#itemText">✕</button>
          </div>
        </div>
        <div class="field">
          <label class="toggle"><input id="itemSensitive" type="checkbox" /><span class="switch" aria-hidden="true"></span><span class="toggle-text">Sensitive (mask on card)</span></label>
        </div>
        <div class="field">
          <label>Description</label>
          <div class="input-wrap with-clear">
            <textarea id="itemDesc" rows="2" maxlength="500" required></textarea>
            <button class="clear-field" data-clear="#itemDesc">✕</button>
          </div>
        </div>
        <div class="field">
          <label>Tags</label>
          <div id="tagsInput" class="tags-input">
            <div class="chips" id="tagChips"></div>
            <input id="tagEntry" type="text" placeholder="Type and press Enter" />
          </div>
          <div class="hint">Use backspace to remove last tag.</div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="secondary-btn" data-close-modal>Cancel</button>
        <button id="saveItemBtn" class="primary-btn">Save</button>
      </div>
    </div>
  </div>

  <!-- Filter Modal -->
  <div id="filterModal" class="modal" aria-hidden="true">
    <div class="modal-content small">
      <div class="modal-header">
        <h3>Filter by Tags</h3>
        <button class="icon-btn" data-close-modal>✕</button>
      </div>
      <div class="modal-body">
        <div class="field with-clear">
          <input id="filterTagSearch" type="text" placeholder="Search tags" />
          <button class="clear-field" data-clear="#filterTagSearch">✕</button>
        </div>
        <div id="filterTagList" class="tag-select-list"></div>
      </div>
      <div class="modal-footer">
        <button class="secondary-btn" data-close-modal>Close</button>
        <div class="end-actions">
          <button id="clearFilterBtn" class="secondary-btn">Clear</button>
          <button id="applyFilterBtn" class="primary-btn">Apply</button>
        </div>
      </div>
    </div>
  </div>

  <!-- More Tags Modal -->
  <div id="moreTagsModal" class="modal" aria-hidden="true">
    <div class="modal-content small">
      <div class="modal-header">
        <h3>All Tags</h3>
        <button class="icon-btn" data-close-modal>✕</button>
      </div>
      <div class="modal-body">
        <div id="allTagsList" class="chips large"></div>
      </div>
      <div class="modal-footer">
        <button class="secondary-btn" data-close-modal>Close</button>
      </div>
    </div>
  </div>

  <!-- Backups Modal -->
  <div id="backupsModal" class="modal" aria-hidden="true">
    <div class="modal-content small">
      <div class="modal-header">
        <h3>Backups (last 10)</h3>
        <button class="icon-btn" data-close-modal>✕</button>
      </div>
      <div class="modal-body">
        <div id="backupsList" class="list"></div>
        <div class="hint">Backups are stored in your browser. Click to download.</div>
      </div>
      <div class="modal-footer">
        <button class="secondary-btn" data-close-modal>Close</button>
      </div>
    </div>
  </div>


  <!-- Profile Modal -->
  <div id="profileModal" class="modal" aria-hidden="true">
    <div class="modal-content small">
      <div class="modal-header">
        <h3>Edit Profile</h3>
        <button class="icon-btn" data-close-modal>✕</button>
      </div>
      <div class="modal-body">
        <div class="field">
          <label>Your name</label>
          <div class="input-wrap with-clear">
            <input id="profileNameInput" type="text" placeholder="e.g., Shirja" maxlength="80" />
            <button class="clear-field" data-clear="#profileNameInput">✕</button>
          </div>
          <div class="hint">Shown next to Compy in the header.</div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="secondary-btn" data-close-modal>Cancel</button>
        <button id="profileSaveBtn" class="primary-btn">Save</button>
      </div>
    </div>
  </div>

  <!-- About Modal -->
  <div id="aboutModal" class="modal" aria-hidden="true">
    <div class="modal-content small">
      <div class="modal-header">
        <h3>About Compy 2.0</h3>
        <button class="icon-btn" data-close-modal>✕</button>
      </div>
      <div class="modal-body">
        <p>Version 2.0</p>
        <p>Compy 2.0 is a lightweight, offline‑first clipboard and snippet manager for the web. Save reusable text (commands, credentials, templates), organize with tags and search, and copy instantly — all stored locally with optional JSON/CSV import & export.</p>
        <div class="about-actions">
          <a class="link-chip" href="mailto:bhebdeveloper@gmail.com" target="_blank" rel="noopener">
            <span class="icon"><svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path fill="none" stroke="currentColor" stroke-width="2" d="M3 6h18v12H3z"/><path fill="none" stroke="currentColor" stroke-width="2" d="M3 7l9 7 9-7"/></svg></span>
            <span>Email</span>
          </a>
          <a class="link-chip" href="https://github.com/ajayparihar" target="_blank" rel="noopener">
            <span class="icon"><svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path fill="currentColor" d="M12 .5a12 12 0 0 0-3.79 23.39c.6.11.82-.26.82-.58v-2.2c-3.35.73-4.06-1.41-4.06-1.41-.55-1.39-1.34-1.76-1.34-1.76-1.09-.75.08-.74.08-.74 1.21.08 1.85 1.25 1.85 1.25 1.07 1.84 2.8 1.31 3.49 1 .11-.78.42-1.31.76-1.61-2.67-.3-5.47-1.34-5.47-5.98 0-1.32.47-2.39 1.24-3.24-.12-.3-.54-1.52.12-3.17 0 0 1.01-.32 3.3 1.24a11.47 11.47 0 0 1 6 0c2.29-1.56 3.3-1.24 3.3-1.24.66 1.65.24 2.87.12 3.17.77.85 1.24 1.92 1.24 3.24 0 4.65-2.8 5.68-5.48 5.98.43.37.81 1.1.81 2.22v3.29c0 .32.22.7.83.58A12 12 0 0 0 12 .5"/></svg></span>
            <span>GitHub</span>
          </a>
          <a class="link-chip" href="https://github.com/ajayparihar/Compy2.0/issues" target="_blank" rel="noopener">
            <span>Report an issue</span>
          </a>
          <a class="link-chip" href="https://github.com/ajayparihar/Compy2.0" target="_blank" rel="noopener">
            <span>Repository</span>
          </a>
        </div>
        <p class="about-meta">Bheb Developer 2025</p>
      </div>
      <div class="modal-footer">
        <button class="secondary-btn" data-close-modal>Close</button>
      </div>
    </div>
  </div>

  <div id="snackbar" class="snackbar" role="status" aria-live="polite"></div>

  <script src="js/compy.js"></script>
</body>
</html>

